{"version":3,"sources":["contexts/FavoritesContext.js","utils/koreanConsonants.js","utils/meilisearchClient.js","components/FavoritesPanel.js","components/Footer.js","components/HitItem.js","components/LanguageSwitcher.js","App.js","index.js","i18n.js"],"names":["__webpack_require__","d","__webpack_exports__","FavoritesProvider","useFavorites","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","key","FavoritesContext","createContext","_ref","children","favorites","setFavorites","useState","useEffect","stored","localStorage","getItem","JSON","parse","error","console","setItem","stringify","React","createElement","Provider","value","addFavorite","song","some","fav","id","prev","removeFavorite","songId","filter","removeAllFavorites","useContext","validInitialConsonants","Set","doubleConsonants","ㄳ","ㄵ","ㄶ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅄ","queryHook","query","refine","input","result","ch","has","push","join","segmentConsonants","searchClient","instantMeiliSearch","finitePagination","meiliSearchParams","hitsPerPage","FavoritesPanel","t","useTranslation","length","style","fontStyle","className","onClick","title","marginLeft","FaTrash","map","marginBottom","singer","FaTimes","Footer","href","HitItem","hit","isFavorited","f","genieSearchURL","concat","encodeURIComponent","melonSearchURL","lyricsSnippet","_highlightResult","lyrics","highlightedLyrics","snippet","highlightTagStart","indexOf","highlightTagEnd","startContext","Math","max","endContext","min","contextSnippet","slice","dangerouslySetInnerHTML","__html","getMatchedLyricsSnippet","Highlight","attribute","tagName","toggleFavorite","youtube_url","cursor","FaHeart","color","FaRegHeart","Snippet","target","rel","FaYoutube","size","src","process","alt","width","height","LanguageSwitcher","i18n","onChange","e","lng","changeLanguage","defaultValue","language","App","loading","setLoading","timer","setTimeout","clearTimeout","Suspense","fallback","handleTitleClick","window","location","reload","background","border","fontSize","textDecoration","role","aria-label","month","year","InstantSearch","indexName","SortBy","defaultRefinement","items","label","RefinementList","Configure","attributesToSnippet","snippetEllipsisText","SearchBox","autoFocus","placeholder","Fragment","Hits","hitComponent","Pagination","showLast","totalPages","r","global","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","_App__WEBPACK_IMPORTED_MODULE_2__","_contexts_FavoritesContext__WEBPACK_IMPORTED_MODULE_3__","env","ReactDOM","render","StrictMode","document","getElementById","i18next__WEBPACK_IMPORTED_MODULE_0__","i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_1__","react_i18next__WEBPACK_IMPORTED_MODULE_2__","_locales_de_translation_json__WEBPACK_IMPORTED_MODULE_3__","_locales_en_translation_json__WEBPACK_IMPORTED_MODULE_4__","_locales_es_translation_json__WEBPACK_IMPORTED_MODULE_5__","_locales_fr_translation_json__WEBPACK_IMPORTED_MODULE_6__","_locales_ja_translation_json__WEBPACK_IMPORTED_MODULE_7__","_locales_ko_translation_json__WEBPACK_IMPORTED_MODULE_8__","_locales_ru_translation_json__WEBPACK_IMPORTED_MODULE_9__","_locales_zh_translation_json__WEBPACK_IMPORTED_MODULE_10__","resources","ko","translation","translationKO","en","translationEN","ru","translationRU","ja","translationJA","es","translationES","fr","translationFR","zh","translationZH","de","translationDE","use","initReactI18next","LanguageDetector","init","fallbackLng","debug","interpolation","escapeValue"],"mappings":"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","file":"static/js/main.32afe160.chunk.js","sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nconst key = \"myFavSongs\";\r\nconst FavoritesContext = createContext();\r\n\r\nexport const FavoritesProvider = ({ children }) => {\r\n  const [favorites, setFavorites] = useState([]);\r\n\r\n  // On mount, load from localStorage\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(key);\r\n    if (stored) {\r\n      try {\r\n        setFavorites(JSON.parse(stored));\r\n      } catch (error) {\r\n        // If parse fails, fallback to empty\r\n        console.error(\"Error parsing localStorage favorites:\", error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Save to localStorage whenever `favorites` changes\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(favorites));\r\n  }, [favorites]);\r\n\r\n  const addFavorite = (song) => {\r\n    // If song is already in favorites, skip\r\n    if (favorites.some((fav) => fav.id === song.id)) return;\r\n    setFavorites((prev) => [...prev, song]);\r\n  };\r\n\r\n  const removeFavorite = (songId) => {\r\n    setFavorites((prev) => prev.filter((fav) => fav.id !== songId));\r\n  };\r\n\r\n  const removeAllFavorites = () => {\r\n    setFavorites([]);\r\n  };\r\n\r\n  return (\r\n    <FavoritesContext.Provider\r\n      value={{ favorites, addFavorite, removeFavorite, removeAllFavorites }}\r\n    >\r\n      {children}\r\n    </FavoritesContext.Provider>\r\n  );\r\n};\r\n\r\n// convenience hook\r\nexport const useFavorites = () => {\r\n  return useContext(FavoritesContext);\r\n};\r\n","/**\r\n * Utility for segmenting Korean consonants (initials + double consonants)\r\n * so the search can handle partial matches on Hangul.\r\n */\r\n\r\nexport const validInitialConsonants = new Set([\r\n    \"ㄱ\",\r\n    \"ㄲ\",\r\n    \"ㄴ\",\r\n    \"ㄷ\",\r\n    \"ㄸ\",\r\n    \"ㄹ\",\r\n    \"ㅁ\",\r\n    \"ㅂ\",\r\n    \"ㅃ\",\r\n    \"ㅅ\",\r\n    \"ㅆ\",\r\n    \"ㅇ\",\r\n    \"ㅈ\",\r\n    \"ㅉ\",\r\n    \"ㅊ\",\r\n    \"ㅋ\",\r\n    \"ㅌ\",\r\n    \"ㅍ\",\r\n    \"ㅎ\",\r\n  ]);\r\n  \r\n  export const doubleConsonants = {\r\n    ㄳ: [\"ㄱ\", \"ㅅ\"],\r\n    ㄵ: [\"ㄴ\", \"ㅈ\"],\r\n    ㄶ: [\"ㄴ\", \"ㅎ\"],\r\n    ㄺ: [\"ㄹ\", \"ㄱ\"],\r\n    ㄻ: [\"ㄹ\", \"ㅁ\"],\r\n    ㄼ: [\"ㄹ\", \"ㅂ\"],\r\n    ㄽ: [\"ㄹ\", \"ㅅ\"],\r\n    ㄾ: [\"ㄹ\", \"ㅌ\"],\r\n    ㄿ: [\"ㄹ\", \"ㅍ\"],\r\n    ㅀ: [\"ㄹ\", \"ㅎ\"],\r\n    ㅄ: [\"ㅂ\", \"ㅅ\"],\r\n  };\r\n  \r\n  export const segmentConsonants = (input) => {\r\n    const result = [];\r\n    for (const ch of input) {\r\n      if (validInitialConsonants.has(ch)) {\r\n        result.push(ch);\r\n      } else if (doubleConsonants[ch]) {\r\n        result.push(...doubleConsonants[ch]);\r\n      } else {\r\n        result.push(ch);\r\n      }\r\n    }\r\n    return result.join(\"\");\r\n  };\r\n  \r\n  /**\r\n   * Hook for query transformation: segments Korean consonants\r\n   * before passing to the Meilisearch refine function.\r\n   */\r\n  export const queryHook = (query, refine) => {\r\n    const segmentedQuery = segmentConsonants(query);\r\n    refine(segmentedQuery);\r\n  };\r\n  ","import { instantMeiliSearch } from \"@meilisearch/instant-meilisearch\";\r\n\r\n// Create and export a search client once.\r\nexport const { searchClient } = instantMeiliSearch(\r\n  \"https://kr-meilisearch.up.railway.app\",\r\n  \"7ebedce327fb3fb634ac9adb49b3a4d52c16e115a5b0a7d8a5027f31f98f2b26\",\r\n  {\r\n    finitePagination: true,\r\n    meiliSearchParams: {\r\n      hitsPerPage: 10,\r\n    },\r\n  }\r\n);\r\n\r\n\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\"; // <-- IMPORTANT\r\nimport { FaTimes, FaTrash } from \"react-icons/fa\";\r\nimport { useFavorites } from \"../contexts/FavoritesContext\";\r\n\r\nconst FavoritesPanel = () => {\r\n  const { t } = useTranslation(); // <-- get t() from i18n\r\n  const { favorites, removeFavorite, removeAllFavorites } = useFavorites();\r\n\r\n  if (favorites.length === 0) {\r\n    return (\r\n      <div style={{ fontStyle: \"italic\" }}>\r\n        <br />\r\n        {t(\"noFavoritesYet\")}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"favorites-panel\">\r\n      <h3>\r\n        {t(\"myFavorites\")}\r\n        {/* Minimal icon button for removing all favorites */}\r\n        <button\r\n          onClick={removeAllFavorites}\r\n          className=\"icon-button\"\r\n          title={t(\"removeAllFavorites\")}\r\n          style={{ marginLeft: \"10px\" }}\r\n        >\r\n          <FaTrash />\r\n        </button>\r\n      </h3>\r\n\r\n      <ul>\r\n        {favorites.map((song) => (\r\n          <li key={song.id} style={{ marginBottom: \"8px\" }}>\r\n            <strong>({song.id})</strong> {song.title} - {song.singer}\r\n            <button\r\n              onClick={() => removeFavorite(song.id)}\r\n              className=\"icon-button\"\r\n              title={t(\"removeThisFavorite\")}\r\n              style={{ marginLeft: \"10px\" }}\r\n            >\r\n              <FaTimes />\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FavoritesPanel;\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>\r\n        Created by{\" \"}\r\n        <a href=\"mailto:ikr@kakao.com\">\r\n          ikr@kakao.com (Seok)\r\n        </a>\r\n      </p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { FaHeart, FaRegHeart, FaYoutube } from \"react-icons/fa\"; // Import hearts\r\nimport { Highlight, Snippet } from \"react-instantsearch-dom\";\r\n\r\nimport { useFavorites } from \"../contexts/FavoritesContext\"; // Our context\r\n\r\nconst HitItem = ({ hit }) => {\r\n  const { t } = useTranslation();\r\n  const { favorites, addFavorite, removeFavorite } = useFavorites();\r\n\r\n  const isFavorited = favorites.some((f) => f.id === hit.id);\r\n\r\n  const toggleFavorite = () => {\r\n    if (isFavorited) {\r\n      removeFavorite(hit.id);\r\n    } else {\r\n      // store partial info or entire 'hit'?\r\n      addFavorite({\r\n        id: hit.id,\r\n        title: hit.title,\r\n        singer: hit.singer,\r\n        youtube_url: hit.youtube_url,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Extract matched lyrics snippet\r\n  const getMatchedLyricsSnippet = (highlightedLyrics) => {\r\n    const snippet = highlightedLyrics.value;\r\n    const highlightTagStart = snippet.indexOf(\"<mark>\");\r\n    const highlightTagEnd = snippet.indexOf(\"</mark>\");\r\n\r\n    if (highlightTagStart === -1 || highlightTagEnd === -1) {\r\n      return null;\r\n    }\r\n\r\n    // Show ~30 chars before/after the highlight\r\n    const contextRadius = 30;\r\n    const startContext = Math.max(0, highlightTagStart - contextRadius);\r\n    const endContext = Math.min(snippet.length, highlightTagEnd + 7 + contextRadius);\r\n    const contextSnippet = snippet.slice(startContext, endContext);\r\n\r\n    return (\r\n      <div className=\"hit-lyrics-snippet\">\r\n        <span\r\n          dangerouslySetInnerHTML={{\r\n            __html: `${t(\"lyrics\")}: ...${contextSnippet}...`,\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // External search links\r\n  const genieSearchURL = `https://www.genie.co.kr/search/searchMain?query=${encodeURIComponent(\r\n    hit.title\r\n  )}%20${encodeURIComponent(hit.singer)}`;\r\n  const melonSearchURL = `https://www.melon.com/search/total/index.htm?q=${encodeURIComponent(\r\n    hit.title\r\n  )}+${encodeURIComponent(hit.singer)}&section=&mwkLogType=T`;\r\n\r\n  const lyricsSnippet =\r\n    hit._highlightResult && hit._highlightResult.lyrics\r\n      ? getMatchedLyricsSnippet(hit._highlightResult.lyrics)\r\n      : null;\r\n\r\n  return (\r\n    <article className=\"hit-item\" key={hit.id}>\r\n      <div className=\"hit-title\">\r\n        <span>({hit.id}) </span>\r\n        <Highlight attribute=\"title\" hit={hit} tagName=\"mark\" />\r\n\r\n        {/* Favorite Heart Icon */}\r\n        <span \r\n          onClick={toggleFavorite}\r\n          style={{ cursor: \"pointer\", marginLeft: \"8px\" }}\r\n          title={isFavorited ? t(\"Remove from favorites\") : t(\"Add to favorites\")}\r\n        >\r\n          {isFavorited ? (\r\n            <FaHeart style={{ color: \"red\" }} />\r\n          ) : (\r\n            <FaRegHeart style={{ color: \"gray\" }} />\r\n          )}\r\n        </span>\r\n      </div>\r\n      <div className=\"hit-singer\">\r\n        <Snippet attribute=\"singer\" hit={hit} tagName=\"mark\" />\r\n      </div>\r\n\r\n      {/* Display the snippet if found */}\r\n      {lyricsSnippet}\r\n\r\n      {/* External search links */}\r\n      {hit.youtube_url && (\r\n        <div className=\"hit-info\">\r\n          <a\r\n            href={hit.youtube_url}\r\n            className=\"youtube-icon\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            title={`YouTube ${t(\"search\")}`}\r\n          >\r\n            <FaYoutube size={24} />\r\n          </a>\r\n          <a\r\n            href={genieSearchURL}\r\n            className=\"genie-icon\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            title={`Genie Music ${t(\"search\")}`}\r\n            style={{ marginLeft: \"10px\" }}\r\n          >\r\n            <img\r\n              src={`${process.env.PUBLIC_URL}/genie_logo.svg`}\r\n              alt=\"Genie Music\"\r\n              style={{ width: \"24px\", height: \"24px\" }}\r\n            />\r\n          </a>\r\n          <a\r\n            href={melonSearchURL}\r\n            className=\"melon-icon\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            title={`Melon Music ${t(\"search\")}`}\r\n            style={{ marginLeft: \"10px\" }}\r\n          >\r\n            <img\r\n              src={`${process.env.PUBLIC_URL}/melon_logo.svg`}\r\n              alt=\"Melon Music\"\r\n              style={{ width: \"24px\", height: \"24px\" }}\r\n            />\r\n          </a>\r\n        </div>\r\n      )}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default HitItem;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst LanguageSwitcher = () => {\r\n  const { i18n } = useTranslation();\r\n\r\n  const changeLanguage = (lng) => {\r\n    i18n.changeLanguage(lng);\r\n  };\r\n\r\n  return (\r\n    <div className=\"language-switcher\">\r\n      <select onChange={(e) => changeLanguage(e.target.value)} defaultValue={i18n.language}>\r\n        <option value=\"ko\">한국어</option>\r\n        <option value=\"en\">English</option>\r\n        <option value=\"fr\">Français</option>\r\n        <option value=\"de\">Germany</option>\r\n        <option value=\"es\">Español</option>\r\n        <option value=\"ru\">Русский</option>\r\n        <option value=\"ja\">日本語</option>\r\n        <option value=\"zh\">中文</option>\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LanguageSwitcher;\r\n","import React, { Suspense, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Configure, Hits, InstantSearch, Pagination, RefinementList, SearchBox, SortBy } from \"react-instantsearch-dom\";\nimport { queryHook } from \"./utils/koreanConsonants\";\nimport { searchClient } from \"./utils/meilisearchClient\";\n// import { instantMeiliSearch } from \"@meilisearch/instant-meilisearch\";\n\nimport FavoritesPanel from \"./components/FavoritesPanel\";\nimport Footer from \"./components/Footer\";\nimport HitItem from \"./components/HitItem\";\nimport LanguageSwitcher from \"./components/LanguageSwitcher\";\n\nimport \"instantsearch.css/themes/algolia-min.css\";\nimport \"./App.css\";\nimport \"./Modal.css\";\n\n// const { searchClient } = instantMeiliSearch(\n//   \"https://kr-meilisearch.up.railway.app\",\n//   \"d3d50e5bf21ae299cede4e0e15f07f82b6e1d87712a66c68ed6bbadf0e5fb88f\",\n//   {\n//     finitePagination: true,\n//     meiliSearchParams: {\n//       hitsPerPage: 10,\n//     },\n//   }\n// );\nconst monthKey = 3;\nconst year = 2025;\n\nconst App = () => {\n  const [loading, setLoading] = useState(true);\n  const { t } = useTranslation();\n\n  // Refresh the entire page (or you could reset search state in a more graceful way)\n  const handleTitleClick = () => {\n    window.location.reload();\n  };\n\n  // Simulate a short loading delay\n  useEffect(() => {\n    const timer = setTimeout(() => setLoading(false), 500);\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <Suspense fallback={<div>Loading translations...</div>}>\n      <div className=\"ais-InstantSearch\">\n        {/* Language Switcher */}\n        <LanguageSwitcher />\n\n        {/* Title */}\n        <h1>\n          <button\n            onClick={handleTitleClick}\n            style={{\n              cursor: \"pointer\",\n              color: \"inherit\",\n              background: \"none\",\n              border: \"none\",\n              fontSize: \"1em\",\n              textDecoration: \"overline\",\n            }}\n          >\n            {t(\"welcome\")}\n          </button>\n        </h1>\n\n        <h2>\n          {t(\"searchSong\")}{\" \"}\n          <span role=\"img\" aria-label=\"emoji\">\n            🎤\n          </span>\n        </h2>\n\n        <p>\n          {t(\"description\", {\n            month: t(`months.${monthKey}`),\n            year,\n          })}\n        </p>\n\n        {/* instructions */}\n        <p>\n          [ FR=France, ITA=Italy, DE=Germany, ES=Spain, PHL=Philippines, ROU=Romania, PRT=Portugal, CN=Chinese ]\n        </p>\n\n        <InstantSearch indexName=\"songs\" searchClient={searchClient}>\n          <div className=\"left-panel\">\n            <SortBy\n              defaultRefinement=\"songs\"\n              items={[{ value: \"songs\", label: t(\"relevancyLabel\") }]}\n            />\n            <h2>{t(\"country\")}</h2>\n            <RefinementList attribute=\"country\" />\n            <Configure\n              hitsPerPage={8}\n              attributesToSnippet={[\"description:50\"]}\n              snippetEllipsisText={\"...\"}\n            />\n\n            {/* Favorites panel (optional) */}\n            <FavoritesPanel />\n          </div>\n\n          <div className=\"right-panel\">\n            <SearchBox\n              autoFocus\n              placeholder={t(\"searchPlaceholder\")}\n              queryHook={queryHook}\n            />\n            {loading ? (\n              <div className=\"loading-spinner\">Loading...</div>\n            ) : (\n              <>\n                <Hits hitComponent={HitItem} />\n                <Pagination showLast={true} totalPages={10} />\n              </>\n            )}\n          </div>\n        </InstantSearch>\n\n        {/* Footer */}\n        <Footer />\n      </div>\n    </Suspense>\n  );\n};\n\nexport default App;\n","import React, { Suspense } from 'react';\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { FavoritesProvider } from \"./contexts/FavoritesContext\";\nimport \"./i18n\";\nimport \"./index.css\";\n\nif (typeof process === 'undefined') {\n  global.process = { env: {} };\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Suspense fallback={<div>Loading...</div>}>\n      <FavoritesProvider>\n        <App />\n      </FavoritesProvider>\n    </Suspense>\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// src/i18n.js\r\nimport i18n from \"i18next\";\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport translationDE from \"./locales/de/translation.json\";\r\nimport translationEN from \"./locales/en/translation.json\";\r\nimport translationES from \"./locales/es/translation.json\";\r\nimport translationFR from \"./locales/fr/translation.json\";\r\nimport translationJA from \"./locales/ja/translation.json\";\r\nimport translationKO from \"./locales/ko/translation.json\";\r\nimport translationRU from \"./locales/ru/translation.json\";\r\nimport translationZH from \"./locales/zh/translation.json\"; // Chinese (simplified)\r\n\r\nconst resources = {\r\n  ko: {\r\n    translation: translationKO,\r\n  },\r\n  en: {\r\n    translation: translationEN,\r\n  },\r\n  ru: {\r\n    translation: translationRU,\r\n  },\r\n  ja: {\r\n    translation: translationJA,\r\n  },\r\n  es: {\r\n    translation: translationES,\r\n  },\r\n  fr: {\r\n    translation: translationFR,\r\n  },\r\n  zh: {\r\n    translation: translationZH\r\n  },\r\n  de: {\r\n    translation: translationDE\r\n  }\r\n};\r\n\r\ni18n\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .use(LanguageDetector) // detect user language\r\n  .init({\r\n    resources,\r\n    // lng: \"ko\",\r\n    fallbackLng: \"en\", // fallback language\r\n    debug: false, // set to false in production\r\n    interpolation: {\r\n      escapeValue: false, // react already safes from xss\r\n    },\r\n  });\r\n\r\nexport default i18n;\r\n"],"sourceRoot":""}